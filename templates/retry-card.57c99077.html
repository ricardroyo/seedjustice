<div class="mainbody-wrap" ng-cloak><div class="ui page grid" id="retry-main-page-grid"><div class="column"><div class="pledge-retry-wrap"><div class="ui two column stackable grid"><div class="column left-col"><div class="ui two column stackable grid campaign-info-header"><div class="five wide column img-col"><img ng-if="campaign.files.length" ng-repeat="file in campaign.files| orderBy:'-file_id' | limitTo: 1" ng-src="{{server + '/image/campaign_explore/' + file.path_external}}" class="ui image"></div><div class="eleven wide column text-col"><h2 class="campaign-title">{{campaign.name}}</h2><div class="campaign-creator">{{'retry_card_by' | translate}} {{campaign.managers[0].first_name}}</div></div></div></div><div class="column right-col" ng-if="failedContrib"><div class="ui icon red message retry-desc"><i class="small info icon"></i><div class="content"><p>{{'retry_card_updated_card_message' | translate}} <span>(**** **** **** {{failedContrib.last4}})</span> {{'retry_card_updated_card_message1' | translate}}</p></div></div></div></div><div class="ui grid" id="retry-content"><div class="column"><div class="ui segment reward-information"><div class="ui two column stackable grid reward-header"><div class="eleven wide column left-col"><h3 class="reward-title">{{failedContrib.pledge_level_name}}</h3></div><div class="right aligned five wide column right-col"><div class="reward-value" ng-bind-html="failedContrib.pledge_level_amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></div></div></div><div class="reward-desc fr-view" html-render html="failedContrib.pledge_level_description"></div><div class="your-contrib"><span class="contrib-label" translate>retry_card_your_contribution </span><span class="contrib-amnt" ng-bind-html="failedContrib.amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option" ng-if="failedContrib"></span> <span ng-if="!failedContrib">N/A</span></div></div><div class="ui divider" ng-if="failedContrib"></div><div class="existing_cards" ng-if="existedCards.length"><div class="ui fluid selection dropdown" ng-click="hideNewCard()"><input type="hidden" name="cards"><div class="default text"><span translate="retry_card_select_existing_card"></span></div><i class="dropdown icon"></i><div class="menu"><div class="item" ng-repeat="card in existedCards" ng-click="setStripeCardId(card.stripe_account_card_id)"><img src="images/cards/{{card.stripe_account_card_type}}.png"> <span ng-if="card.stripe_account_card_type_id == 1 || card.stripe_account_card_type_id == 3">**** **** **** <span ng-bind="card.last4"></span> </span><span ng-if="card.stripe_account_card_type_id == 2">**** ****** *<span ng-bind="card.last4"></span></span></div></div></div></div><div class="ui horizontal divider" ng-if="existedCards.length"><span translate="retry_card_select_card_divider"></span></div><div class="ui center aligned basic segment" ng-if="existedCards.length"><div class="ui green button" ng-click="toggleNewCard()"><span translate="retry_card_create_new_card"></span></div></div><div class="repledge-credit-card-form" ng-if="isAddingNewCard"><ng-include src="'views/templates/partials/credit-card-wrap.57c99077.html'" ng-if="failedContrib" ng-init="initStripePayment()"></ng-include></div><div class="ui checkbox" id="propagate"><input type="checkbox"><label translate>retry_card_propagate_message</label></div><div class="ui basic right aligned segment retry-btn" ng-if="failedContrib"><div class="ui pointing right label red" ng-if="failedMessage">{{failedMessage| translate }}</div><div class="ui pointing right label green" ng-if="retrySuccess" translate>retry_card_retry_message</div><div class="ui green button" ng-click="saveCard()" id="retrypledge" translate>retry_card_retry_button</div></div></div></div></div></div></div></div><div class="ui modal" id="wrong-account"><div class="header"><h3 class="ui red header" translate>retry_card_wrong_account</h3></div><div class="content"><p translate>retry_card_wrong_account_message</p></div><div class="actions"><div class="ui button" ng-click="goto()" translate>retry_card_wrong_account_cancel</div></div></div><div class="ui modal" id="not-found-transaction"><div class="header"><h3 class="ui red header" translate="retry_card_not_found_transaction_title"></h3></div><div class="content"><p translate="retry_card_not_found_transaction_message"></p></div><div class="actions"><div class="ui button" ng-click="goto()" translate>retry_card_wrong_account_cancel</div></div></div><div class="ui page repledge-thank-you modal"><i class="close icon"></i><h1 class="ui icon inverted header" id="pledge-success">{{'retry_card_thankyou'| translate}}</h1><div class="content"><div class="ui two column stackable grid"><div class="four wide column campaign-img"><img ng-if="campaign.files.length" ng-repeat="file in campaign.files | filter:{region_id: RESOURCE_REGIONS.campaign.thumbnail} | orderBy:'-file_id' | limitTo: 1" ng-src="{{server + '/image/campaign_explore/' + file.path_external}}" class="ui image"> <img ng-if="campaign.files.length == 0" src="https://placehold.it/255x255&text=Image+unavailable" class="ui image"></div><div class="twelve wide column"><h1 class="ui header">{{campaign.name}}</h1><p>{{campaign.blurb}}</p></div></div><table class="ui three column table"><thead><tr><th translate>retry_card_reward_desc</th><th translate>retry_card_contributed_on</th><th translate>retry_card_amount_contributed</th></tr></thead><tbody><tr><td class="td-campaign-reward">{{des |limitTo : 80}} <span ng-show="des.length > 80">...</span><div ng-if="!des" translate>retry_card_no_description</div></td><td class="td-contrib-date">{{currdate}}</td><td class="td-contrib-amount" ng-bind-html="failedContrib.amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></td></tr></tbody></table><div id="sm-share-wrap" class="ui basic segment"><h2 class="share-label ui header" translate>retry_card_share_your_contribution</h2><div class="a2a_kit a2a_kit_size_32 a2a_default_style social-media-share"><a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_email"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_dd" href="https://www.addtoany.com/share_save"></a></div><script type="text/javascript">//var a2a_config = a2a_config || {}; //specifically for twitter a2a_config.locale = "custom"; a2a_config.localize  = {     share_message:"I just made a contribution to" }; // for all media
				a2a_config.linkname = a2a_config.localize.share_message_pledge_page;
				var myString = window.location.origin + window.location.pathname;
				// console.log(myString);
				var stringArray = myString.split('pledge');
				var id = stringArray[1].split('eid=');
				var myurl = stringArray[0] + "campaign/" + id[1];

				// console.log(myurl);
				a2a_config.linkurl = myurl;</script><script type="text/javascript" src="https://static.addtoany.com/menu/page.js"></script></div></div><div class="inverted actions"><a class="ui positive button redirect-link" href="/explore">{{'retry_card_goto' | translate}}</a></div></div><script src="scripts/social-message.57c99077.js" type="text/javascript"></script>