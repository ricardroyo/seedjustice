<div ng-cloak><div class="explore-head" ng-controller="exploreHeadCtrl" ng-show="explore_page_text.display=='text'"><div class="banner-content"><div class="ui page grid"><div class="column"><h1 class="banner-title ui center aligned header" ng-bind="explore_page_text.banner_header"></h1></div></div></div></div><div ng-show="explore_page_text.display=='html'"><div html-render html="explore_page_text.html" class="fr-view"></div></div><div class="mainbody-wrap"><div class="sort-dropdown ui page grid" ng-if="campaign_display"><div class="column right aligned"><div class="ui selection dropdown sort"><div class="text" translate="explore_search_sortby"></div><i class="dropdown icon"></i><div class="menu" ng-if="!public_settings.site_campaign_exclude_shipping_cost"><a class="item" ng-click="updateSort('-featured, display_priority')" translate="explore_search_featured"></a> <a class="item" ng-click="updateSort('-created')" translate="explore_search_newest"></a> <a class="item" ng-click="updateSort('created')" translate="explore_search_oldest"></a> <a class="item" ng-click="updateSort('-funded_amount')" translate="explore_search_most_funded"></a> <a class="item" ng-click="updateSort('funded_amount')" translate="explore_search_least_funded"></a> <a class="item" ng-click="updateSort('*-funded_percentage')" translate="explore_search_most_funded_percent"></a> <a class="item" ng-click="updateSort('*funded_percentage')" translate="explore_search_least_funded_percent"></a></div><div class="menu" ng-if="public_settings.site_campaign_exclude_shipping_cost"><a class="item" ng-click="updateSort('-featured, display_priority')" translate="explore_search_featured"></a> <a class="item" ng-click="updateSort('-created')" translate="explore_search_newest"></a> <a class="item" ng-click="updateSort('created')" translate="explore_search_oldest"></a> <a class="item" ng-click="updateSort('*-funded_amount_shipping_excluded')" translate="explore_search_most_funded"></a> <a class="item" ng-click="updateSort('*funded_amount_shipping_excluded')" translate="explore_search_least_funded"></a> <a class="item" ng-click="updateSort('*-funded_percentage_shipping_excluded')" translate="explore_search_most_funded_percent"></a> <a class="item" ng-click="updateSort('*funded_percentage_shipping_excluded')" translate="explore_search_least_funded_percent"></a></div></div></div></div><div id="explore-page" class="campaign-grid ui two column stackable page grid"><div class="left-col four wide column"><div class="ui vertical menu project-sidebar-list"><div class="header item"><i class="search icon"></i> <span translate="explore_search_campaignname"></span></div><div class="item"><div class="ui icon input search-input fluid"><input type="text" keyboard-poster post-function="searchTitles" placeholder="{{'explore_search_byname' | translate}}" ng-model="searchCampaignName"></div></div><div ng-show="category_display"><div class="header item"><i class="grid layout icon"></i> <span translate="explore_search_categories"></span></div><a class="item" href ng-click="updateCategoryFilters()" translate="explore_search_categories_all"></a> <a class="item" href ng-repeat="category in categories |orderBy:'display_priority'" ng-class="{'active': sortOrFilters.filters.category.indexOf(category.id) > -1}" ng-click="updateCategoryFilters(category)" ng-show="public_settings.site_theme_category_display_explore_sidebar" ng-bind="category.name"></a></div><div class="header item"><i class="map marker icon"></i><span translate="explore_search_location"></span></div><div class="item"><div ui-select style="width:100%" ng-model="cityNameFilter.selected" theme="select2"><div ui-select-match placeholder="{{'explore_search_location_placeholder' | translate}}" ng-bind="$select.selected.name"></div><div ui-select-choices repeat="city in cities | filter: $select.search" refresh="searchCities($select.search)" refresh-delay="200"><div ng-bind-html="city.name"></div></div></div><button class="ui button" style="margin-top: 10px" ng-click="resetLocation()" translate="explore_search_reset"></button></div></div></div><div class="right-col twelve wide column campaign-tiles" ng-if="campaign_display"><div ng-show="noCampaign && no_campaign_message" class="warning-msg ui basic segment"><div class="ui warning message"><div class="header ui center aligned" ng-bind="no_campaign_message"></div></div></div><div class="campaign-list-items ui three column stackable doubling grid" ng-show="campaigns && campaign_display"><div class="campaign-thumb column" ng-repeat="campaign in campaigns | limitTo: sortOrFilters.pagination.entriesperpage"><a class="ui fluid card campaign-card" ng-href="{{campaign.uri_paths[0].path}}"><div set-video-thumb-height class="image"><div ng-show="campaign.featured" class="ui right corner blue label"><i class="star icon"></i></div><div class="recent-indicator ui right corner red label" ng-if="dateInPast(campaign.ends,campaign.seconds_remaining)"><div class="text" ng-bind="campaign_status_corner_closed"></div></div><div campaign-place-holder class="video-container" ng-if="campaign.thumbnail_video_link && public_settings.site_campaign_allow_thumbnail_video" ng-class="{'video-video-tag':campaign.thumbnail_video_type=='custom', 'video-iframe-tag' :campaign.thumbnail_video_type=='vimeo' || campaign.thumbnail_video_type=='youtube'}"><div class="video-thumbnail"><div class="video-overlay"></div><youtube-video ng-if="campaign.thumbnail_video_type=='youtube'" video-id="{{campaign.thumbnail_video_link}}" id="ytplayer-{{campaign.id}}" autoplay="true" mute="true" modest-branding="true"></youtube-video><iframe id="vimeoplayer" ng-if="campaign.thumbnail_video_type=='vimeo'" ng-src="{{campaign.thumbnail_video_link}}" frameborder="0"></iframe><video ng-if="campaign.thumbnail_video_type=='custom'" muted id="custom-video-player" loop autoplay><source ng-src="{{campaign.thumbnail_video_link}}" type="video/mp4"></video></div></div><img width="510" height="510" campaign-place-holder ng-if="!campaign.thumbnail_video_link || !public_settings.site_campaign_allow_thumbnail_video " ng-repeat="file in campaign.files | filter:{region_id: RESOURCE_REGIONS.campaign.thumbnail} | orderBy:'-file_id' | limitTo: 1" ng-if="campaign.files[0].path_external" ng-src="{{server + '/image/campaign_thumbnail_large/' + file.path_external}}" class="ui image"> <img src="images/placeholder-images/placeholder_campaign_thumb.png" class="placeholder-img ui image"></div><div class="campaign-desc content"><div class="campaign-title header name">{{campaign.name}}</div><div class="campaign-creator ui ribbon label" ng-hide="public_settings.site_campaign_hide_creator_info"><span ng-show="(campaign.profile_type_id ==1 || !(campaign.profile_type_id == 2 && campaign.business_organizations != null))">{{'explore_search_by' | translate}}&nbsp;{{campaign.managers[0].first_name + " " + campaign.managers[0].last_name | limitTo : 20}} <span ng-if="(campaign.managers[0].first_name.length + campaign.managers[0].last_name.length) > 20">...</span> </span><span ng-show="(campaign.profile_type_id == 2 && campaign.business_organizations != null)">{{'explore_search_by' | translate}}&nbsp;{{campaign.business_organizations[0].name}}</span></div><div ng-init="getTimeZoneAbbr(campaign)" class="campaign-created meta" ng-show="campaign.campaign_started=='f' && campaign.ever_published && campaign.starts_date_time != null"><span ng-hide="isISODate">{{'Starts_on'|translate}}&nbsp;{{campaign.starts_date_time | formatDate:"MMM DD YYYY"}} {{'index_at' | translate}} {{campaign.starts_date_time | formatDate:"h:mm A"}} {{campaign.timezoneText}} </span><span ng-show="isISODate">{{'Starts_on'|translate}}&nbsp;{{campaign.starts_date_time | formatDate:"YYYY/MM/DD"}} {{campaign.starts_date_time | formatDate:"H:mm"}}</span></div><div class="campaign-created meta" ng-show="campaign.campaign_started == 't' && campaign.ever_published"><div ng-if="dateInPast(campaign.ends,campaign.seconds_remaining)" style="float:left" translate="index_closed"></div><div ng-if="dateInPast(campaign.ends,campaign.seconds_remaining) && (campaign.days_remaining_inclusive * -1) > 1 "><span ng-bind="campaign.days_remaining_inclusive * -1"></span> <span translate="{{days_text}}"></span></div><div ng-if="dateInPast(campaign.ends,campaign.seconds_remaining) && (campaign.days_remaining_inclusive * -1) == 1 "><span ng-bind="campaign.days_remaining_inclusive * -1"></span> <span translate="{{day_text}}"></span></div><div ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive > 1 "><span ng-bind="campaign.days_remaining_inclusive"></span> <span translate="{{rdays_text}}"></span></div><div ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive == 1 "><span ng-bind="campaign.days_remaining_inclusive"></span> <span translate="{{rday_text}}"></span></div><div ng-if="dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive == 0 && (campaign.hours_remaining_inclusive * -1) > 1"><span ng-bind="campaign.hours_remaining_inclusive * -1"></span> <span translate="{{hours_text}}"></span></div><div ng-if="dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive ==0 && (campaign.hours_remaining_inclusive * -1) == 1 "><span ng-bind="campaign.hours_remaining_inclusive * -1"></span> <span translate="{{hour_text}}"></span></div><div ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive == 0 && campaign.hours_remaining_inclusive  > 1 "><span ng-bind="campaign.hours_remaining_inclusive"></span> <span translate="{{rhours_text}}"></span></div><div ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive  == 0 && campaign.hours_remaining_inclusive  == 1 "><span ng-bind="campaign.hours_remaining_inclusive"></span> <span translate="{{rhour_text}}"></span></div><div ng-if="dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining  == 0 && campaign.hours_remaining == 0  && (campaign.minutes_remaining_inclusive *-1) > 1"><span ng-bind="campaign.minutes_remaining_inclusive * -1"></span> <span translate="{{minutes_text}}"></span></div><div ng-if="dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining  == 0 &&campaign.hours_remaining == 0  && (campaign.minutes_remaining_inclusive*-1) == 1 "><span ng-bind="campaign.minutes_remaining_inclusive * -1"></span> <span translate="{{minute_text}}"></span></div><div ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive ==00 && campaign.hours_remaining_inclusive ==0  && campaign.minutes_remaining_inclusive > 1 "><span ng-bind="campaign.minutes_remaining_inclusive"></span> <span translate="{{rminutes_text}}"></span></div><div ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining) && campaign.days_remaining_inclusive  ==00 && campaign.hours_remaining_inclusive == 0  && campaign.minutes_remaining_inclusive   == 01 "><span ng-bind="campaign.minutes_remaining_inclusive"></span> <span translate="{{rminute_text}}"></span></div><div ng-show="campaign.ends_date_time == null" class="item f-duration" translate="Continuous_Campaign"></div></div><div class="description">{{campaign.blurb | limitTo:150}} <span ng-if="campaign.blurb.length > 150">...</span></div></div><div class="campaign-card-footer"><div class="campaign-stats"><div class="bar-progress ui indicating progress" data-percent="{{temp = campaign.funded_amount / (campaign.funding_goal || 1) * 100; temp >= 100 ? 100 : temp < 1 ? 0 : temp}}"><div class="bar"></div></div><div class="card-amount-meta"><div class="pledged-amount"><span ng-bind-html="campaign.funded_amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span> <span ng-bind="campaign.currencies[0].code_iso4217_alpha"></span> <span translate="explore_pledged"></span></div><div class="funded-amount"><span>{{campaign.funded_amount / (campaign.funding_goal || 1) * 100 | number: 0}}%</span> <span translate="explore_funded"></span></div></div></div></div></a><div class="campaign-location" ng-if="campaign.cities"><i class="map marker icon"></i><span ng-repeat="city in campaign.cities | limitTo:1" ng-bind="city.city_full"></span></div></div></div><div class="ui basic center aligned segment"><div semantic-pagination ng-model="sortOrFilters.page" total-pages="sortOrFilters.pagination.numpages" update-function="updateCampaignListing()"></div></div></div></div></div></div>