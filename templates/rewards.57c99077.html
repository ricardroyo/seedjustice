<div class="mainbody-wrap" ng-cloak><div class="background-wrap"><div class="ui page grid"><div class="ui column"><div class="campaign-creation-header"><div class="campaignsteps" ng-include src="'views/templates/partials/campaign/create/campaign-steps.57c99077.html'"></div><div class="ui green message"><div class="ui basic segment center aligned" translate>campaign_reward_message</div></div><div class="ui center aligned basic campaign-top-header segment"><h1 class="ui header" translate>campaign_reward_reward_message</h1><p translate>campaign_reward_reward_text</p><p translate>campaign_reward_reward_text2</p></div></div><div class="ui left aligned basic segment" ng-if="notes.pledges"><div class="ui yellow message"><div class="ui small header">{{'campaign_reward_reward_note' | translate}}</div>{{notes.pledges}}</div></div><div class="campaign-basics-form campaign-creation-form ui form"><h2 class="ui inverted top attached header" translate="campaign_reward_campaign_reward_settings_title"></h2><div class="campaign-bg ui middle attached basic segment"><div class="formbg ui two column stackable grid"><div class="ui corner red label"><i class="white asterisk icon"></i></div><div class="left-col five wide column"><h3 class="ui header"><span translate="campaign_reward_campaign_reward_settings_paging"></span> <span class="required-text" translate="campaign_creation_required_text"></span></h3><p translate="campaign_reward_campaign_reward_settings_paging_hint"></p></div><div class="right-col eleven wide column"><div class="toggle-sticky ui toggle checkbox" ng-model="campaign.settings.enable_rewards_pagination"><input type="checkbox" name="public"><label><span translate="campaign_reward_campaign_reward_settings_paging_description"></span> <span translate="campaign_reward_campaign_reward_settings_paging_off" ng-show="campaign.settings.enable_rewards_pagination"></span> <span translate="campaign_reward_campaign_reward_settings_paging_on" ng-show="!campaign.settings.enable_rewards_pagination"></span></label></div></div></div></div></div><div class="campaign-creation-form"><h2 class="ui inverted top attached header" translate>campaign_reward_campaignreward</h2><div class="campaign-bg ui middle attached basic segment" ng-if="rewards_data.length"><div class="formbg ui two column stackable grid" ng-form name="rewards{{$index}}" ng-repeat="reward in rewards_data track by $index"><div class="five wide column"><h3 class="ui teal header">{{'campaign_reward_rewardtext' | translate}} #{{$index + 1}}</h3></div><div class="eleven wide column"><form class="ui form campaign-rewards-form"><div class="ui red label" ng-if="reward.errorMessage" style="margin-bottom:15px">{{reward.errorMessage}}</div><div class="field" id="reward-amount-field" ng-class="{'reward-amount-error' : reward.amount == 0}"><label class="field-header"><span translate>campaign_reward_reward_contribution</span> <span class="required-text" translate="campaign_creation_required_text"></span></label><label class="note" translate>campaign_reward_reward_contribution_note</label><div class="ui left icon input"><input name="reward_amount" type="text" ng-model="reward.amount" numbers-only> <i class="money icon"></i></div></div><div class="field"><label class="field-header"><span translate>campaign_reward_reward_contribution_name</span> <span class="required-text" translate="campaign_creation_required_text"></span></label><label class="note" translate>campaign_reward_reward_contribution_name_note</label><input type="text" name="reward_title" ng-model="reward.name" placeholder="{{'campaign_reward_reward_contribution_title' | translate}}"></div><div class="field"><label class="field-header"><span translate>campaign_reward_reward_contribution_description</span> <span class="required-text" translate="campaign_creation_required_text"></span></label><label class="note" translate>campaign_reward_reward_contribution_description_note</label><div ng-show="reward_html_editor"><textarea froala="froalaOptions" data-server="{{server}}" data-loc="{{server_loc}}" class="page-content" ng-model="reward.description" name="data.htmlcontent{{$index}}"></textarea></div><textarea ng-show="!reward_html_editor" class="page-content" ng-model="reward.description" name="data.htmlcontent{{$index}}"></textarea><div ta-bind="text" ng-show="togglepreview" ng-model="reward.description" ta-readonly="disabled"></div><div class="ui red pointing above ui label" ng-show="rewards{{$index}}.description.$invalid"><div ng-show="rewards{{$index}}.description.$error.required">{{'campaign_reward_reward_contribution_descriptionmessage' | translate}}#{{$index + 1}} {{'campaign_reward_reward_contribution_descriptionmessage2' | translate}}</div></div></div><div class="field"><label class="field-header"><span translate>campaign_reward_reward_item_limit</span> <span class="optional-text" translate="campaign_creation_optional_text"></span></label><label class="note" translate>campaign_reward_reward_item_limit_note</label><input type="text" name="limit" ng-model="reward.item_limit" placeholder="{{'campaign_reward_reward_item_limit_placeholder' | translate}}"></div><div class="ui blue large message" translate>campaign_reward_reward_shipmessage</div><div class="field"><label class="field-header"><span translate="campaign_reward_reward_delivery_date"></span> (<span ng-bind="campaign.timezoneText"></span>) <span class="optional-text" translate="campaign_creation_optional_text"></span></label><label class="note" translate>campaign_reward_reward_delivery_date_note</label><quick-datepicker placeholder="{{get_started_funding_startdate_placeholder}}" ng-model="reward.estimated_delivery_time_convert" disable-clear-button="true" date-format="EEEE, MMMM d, yyyy" disable-timepicker="true" date-filter="noPastDates" ng-if="!public_settings.site_theme_campaign_display_iso_date"></quick-datepicker><quick-datepicker placeholder="{{get_started_funding_startdate_placeholder}}" ng-model="reward.estimated_delivery_time_convert" disable-clear-button="true" date-format="EEEE, yyyy/MM/d" disable-timepicker="true" date-filter="noPastDates" ng-if="public_settings.site_theme_campaign_display_iso_date"></quick-datepicker></div><div class="shipping-option-wrap" ng-repeat="shipping in reward.shipping"><a class="remove-btn red ui label" ng-click="removeShippingOption(shipping, reward); updateDuplicatedCountryList()"><i class="remove icon"></i></a><div class="three stackable fields stacking-shipping-options"><div class="seven wide field"><label translate>campaign_reward_reward_shiping_option</label><div class="ui fluid selection dropdown rewards-shipping-options" ng-click="checkShippingOption(reward.shipping)"><div class="text" translate ng-if="!shipping.shipping_option_type_id">campaign_reward_reward_shiping_option_select</div><div class="text" ng-if="shipping.shipping_option_type_id">{{dropdown.shipping[shipping.shipping_option_type_id -1].value}}</div><i class="dropdown icon"></i> <input type="hidden" name="shipping" ng-value="shipping.shipping_option_type_id"><div class="menu"><div data-value="{{option.id}}" class="item" ng-repeat="option in dropdown.shipping" ng-click="selectShippingOption($parent.$parent.$index, $parent.$index, option.id); updateDuplicatedCountryList()" ng-hide="shipping.worldwideOption && option.id == 1">{{option.value | translate}}</div></div></div></div><div class="six wide field" ng-if="shipping.shipping_option_type_id == 2 || shipping.shipping_option_type_id == 3"><label translate>campaign_reward_reward_shiping_country</label><select ng-change="updateDuplicatedCountryList()" ng-model="rewards_data[$parent.$parent.$index].shipping[$parent.$index].country_id" ui-select2="currencypicker" ng-click="showSubCountry(rewards_data[$parent.$parent.$index].shipping[$parent.$index].country_id,$parent.$parent.$index,shipping.shipping_option_type_id ,$parent.$index)"><option value="{{country.country_id}}" class="item" ng-repeat="country in countries | excludeDupCountry:$parent.$parent.$index:rewards_data[$parent.$parent.$index].shipping[$parent.$index].country_id:shipping.shipping_option_type_id">{{country.name}}</option></select></div><div class="three wide field" ng-if="shipping.shipping_option_type_id == 1 || (shipping.shipping_option_type_id == 2 && shipping.country_id)"><label translate>campaign_reward_reward_shiping_cost</label><div class="ui left labeled input rewards-shipping-cost"><div class="ui label" ng-bind-html="' '| formatCurrency:ccode:public_setting.site_campaign_decimal_option" style="padding-top:1.3em" id="lbaelid"></div><input type="text" min="0" ng-model="shipping.cost" numbers-only onkeydown="if (event.keyCode == 13) return false;"></div></div></div><div class="subcountry-cost" ng-show="show_sub && shipping.shipping_option_type_id == 3"><div class="ui accordion" ng-accord><div class="title"><i class="dropdown icon"></i> Sub Countries</div><div class="content"><div class="ui four column stackable grid"><div class="column" ng-repeat="city in shipping.sub_countries"><div class="subcountry-fields field"><label class="city-name">{{city.name}}</label><div class="ui left left labeled input"><div class="ui label" ng-bind-html=" ' ' | formatCurrency:ccode:public_setting.site_campaign_decimal_option"></div><input type="text" value="{{city.cost}} || 0" ng-model="city.cost" numbers-only onkeydown="if (event.keyCode == 13) return false;"></div></div></div></div></div></div></div></div><div class="ui green button rwrd-btn" ng-click="addShippingOption(reward.shipping)" translate><i class="plus icon"></i>campaign_reward_reward_shiping_buttontext</div></form></div><div class="remove-reward-wrap ui basic segment"><div class="ui red button" ng-click="deleteReward(reward, $index)">{{'campaign_reward_reward_remove' | translate}}</div></div></div></div><div class="add-reward-btn-wrap center aligned column"><div class="ui green large button rwrd-btn" ng-click="addReward(rewards_data)" translate><i class="plus icon"></i> campaign_reward_reward_add</div></div><div ng-include src="'views/templates/partials/response-message.57c99077.html'"></div><div class="bottom-btn-wrap" ng-include src="'views/templates/partials/campaign/create/campaign-save.57c99077.html'"></div></div></div></div></div></div><div class="ui small modal delete-reward-modal"><i class="close icon"></i><div class="header"><h3 class="ui blue header" translate>campaign_reward_reward_delete_confirm</h3></div><div class="content"><p>{{'campaign_reward_reward_delete_confirmmessage' | translate}} {{reward.name}}?</p></div><div class="actions"><div class="ui positive button" ng-click="confirmDeleteReward()" translate>campaign_reward_reward_delete_confirm_yes</div><div class="ui negative button" translate>campaign_reward_reward_delete_confirm_no</div></div></div>